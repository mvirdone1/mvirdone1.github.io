// Sourced from here, cleaned up and made into a nice array
// https://apollo.nvu.vsc.edu/classes/remote/lecture_notes/radar/88d/88D_locations.html

const stations = [
  {
    stationId: "KABR",
    stationName: "Aberdeen, SD",
    latitude: "45.45583",
    longitude: "-97.58694",
  },
  {
    stationId: "KENX",
    stationName: "Albany, NY",
    latitude: "42.58639",
    longitude: "-73.93611",
  },
  {
    stationId: "KABX",
    stationName: "Albuquerque, NM",
    latitude: "35.14972",
    longitude: "-105.17611",
  },
  {
    stationId: "KFDR",
    stationName: "Altus AFB, OK",
    latitude: "34.36222",
    longitude: "-97.02361",
  },
  {
    stationId: "KAMA",
    stationName: "Amarillo, TX",
    latitude: "35.23333",
    longitude: "-100.29083",
  },
  {
    stationId: "PAHG",
    stationName: "Anchorage, AK",
    latitude: "60.72583",
    longitude: "-150.64861",
  },
  {
    stationId: "PGUA",
    stationName: "Anderson AFB, GU",
    latitude: "13.45250",
    longitude: "144.81139",
  },
  {
    stationId: "KFFC",
    stationName: "Atlanta, GA",
    latitude: "33.36361",
    longitude: "-83.43417",
  },
  {
    stationId: "KEWX",
    stationName: "Austin/San Antonio, TX",
    latitude: "29.70389",
    longitude: "-97.97167",
  },
  {
    stationId: "KBBX",
    stationName: "Beale AFB, CA",
    latitude: "39.49611",
    longitude: "-120.36833",
  },
  {
    stationId: "PABC",
    stationName: "Bethel, AK",
    latitude: "60.79194",
    longitude: "-160.12361",
  },
  {
    stationId: "KBLX",
    stationName: "Billings, MT",
    latitude: "45.85389",
    longitude: "-107.39333",
  },
  {
    stationId: "KBGM",
    stationName: "Binghamton, NY",
    latitude: "42.19972",
    longitude: "-74.01528",
  },
  {
    stationId: "KBMX",
    stationName: "Birmingham, AL",
    latitude: "33.17222",
    longitude: "-85.23028",
  },
  {
    stationId: "KBIS",
    stationName: "Bismarck, ND",
    latitude: "46.77083",
    longitude: "-99.23944",
  },
  {
    stationId: "KCBX",
    stationName: "Boise, ID",
    latitude: "43.49056",
    longitude: "-115.76444",
  },
  {
    stationId: "KBOX",
    stationName: "Boston, MA",
    latitude: "41.95583",
    longitude: "-70.86306",
  },
  {
    stationId: "KBRO",
    stationName: "Brownsville, TX",
    latitude: "25.91611",
    longitude: "-96.58111",
  },
  {
    stationId: "KBUF",
    stationName: "Buffalo, NY",
    latitude: "42.94889",
    longitude: "-77.26333",
  },
  {
    stationId: "KCXX",
    stationName: "Burlington, VT",
    latitude: "44.51111",
    longitude: "-72.83306",
  },
  {
    stationId: "RKSG",
    stationName: "Camp Humphreys, Korea",
    latitude: "36.95583",
    longitude: "127.02111",
  },
  {
    stationId: "KFDX",
    stationName: "Cannon AFB, NM",
    latitude: "34.63528",
    longitude: "-102.37000",
  },
  {
    stationId: "KICX",
    stationName: "Cedar City, UT",
    latitude: "37.59083",
    longitude: "-111.13778",
  },
  {
    stationId: "KCLX",
    stationName: "Charleston, SC",
    latitude: "32.65556",
    longitude: "-80.95778",
  },
  {
    stationId: "KRLX",
    stationName: "Charleston, WV",
    latitude: "38.31111",
    longitude: "-80.27694",
  },
  {
    stationId: "KCYS",
    stationName: "Cheyenne, WY",
    latitude: "41.15194",
    longitude: "-103.19389",
  },
  {
    stationId: "KLOT",
    stationName: "Chicago, IL",
    latitude: "41.60472",
    longitude: "-87.91528",
  },
  {
    stationId: "KILN",
    stationName: "Cincinnati, OH",
    latitude: "39.42028",
    longitude: "-82.17833",
  },
  {
    stationId: "KCLE",
    stationName: "Cleveland, OH",
    latitude: "41.41306",
    longitude: "-80.14028",
  },
  {
    stationId: "KCAE",
    stationName: "Columbia, SC",
    latitude: "33.94861",
    longitude: "-80.88167",
  },
  {
    stationId: "KGWX",
    stationName: "Columbus AFB, MS",
    latitude: "33.89667",
    longitude: "-87.67111",
  },
  {
    stationId: "KCRP",
    stationName: "Corpus Christi, TX",
    latitude: "27.78417",
    longitude: "-96.48889",
  },
  {
    stationId: "KFWS",
    stationName: "Dallas/Ft. Worth, TX",
    latitude: "32.57306",
    longitude: "-96.69694",
  },
  {
    stationId: "KDVN",
    stationName: "Davenport, IA",
    latitude: "41.61167",
    longitude: "-89.41917",
  },
  {
    stationId: "KFTG",
    stationName: "Denver, CO",
    latitude: "39.78667",
    longitude: "-103.45417",
  },
  {
    stationId: "KDMX",
    stationName: "Des Moines, IA",
    latitude: "41.73111",
    longitude: "-92.27722",
  },
  {
    stationId: "KDTX",
    stationName: "Detroit, MI",
    latitude: "42.69972",
    longitude: "-82.52833",
  },
  {
    stationId: "KDDC",
    stationName: "Dodge City, KS",
    latitude: "37.76083",
    longitude: "-98.03111",
  },
  {
    stationId: "KDOX",
    stationName: "Dover AFB, DE",
    latitude: "38.82556",
    longitude: "-74.56028",
  },
  {
    stationId: "KDLH",
    stationName: "Duluth, MN",
    latitude: "46.83694",
    longitude: "-91.79028",
  },
  {
    stationId: "KDYX",
    stationName: "Dyess AFB, TX",
    latitude: "32.53833",
    longitude: "-98.74556",
  },
  {
    stationId: "KEYX",
    stationName: "Edwards AFB, CA",
    latitude: "35.09778",
    longitude: "-116.43917",
  },
  {
    stationId: "KEVX",
    stationName: "Eglin AFB, FL",
    latitude: "30.56444",
    longitude: "-84.07861",
  },
  {
    stationId: "KEPZ",
    stationName: "El Paso, TX",
    latitude: "31.87306",
    longitude: "-105.30194",
  },
  {
    stationId: "KLRX",
    stationName: "Elko, NV",
    latitude: "40.73972",
    longitude: "-115.19722",
  },
  {
    stationId: "KBHX",
    stationName: "Eureka, CA",
    latitude: "40.49833",
    longitude: "-123.70806",
  },
  {
    stationId: "PAPD",
    stationName: "Fairbanks, AK",
    latitude: "65.03500",
    longitude: "-146.49833",
  },
  {
    stationId: "KFSX",
    stationName: "Flagstaff, AZ",
    latitude: "34.57444",
    longitude: "-110.80222",
  },
  {
    stationId: "KHPX",
    stationName: "Fort Campbell, KY",
    latitude: "36.73667",
    longitude: "-86.71500",
  },
  {
    stationId: "KGRK",
    stationName: "Fort Hood, TX",
    latitude: "30.72194",
    longitude: "-96.61694",
  },
  {
    stationId: "KPOE",
    stationName: "Fort Polk, LA",
    latitude: "31.15556",
    longitude: "-91.02417",
  },
  {
    stationId: "KEOX",
    stationName: "Fort Rucker, AL",
    latitude: "31.46056",
    longitude: "-84.54056",
  },
  {
    stationId: "KSRX",
    stationName: "Fort Smith, AR",
    latitude: "35.29056",
    longitude: "-93.63833",
  },
  {
    stationId: "KIWX",
    stationName: "Fort Wayne, IN",
    latitude: "41.35889",
    longitude: "-84.30000",
  },
  {
    stationId: "KAPX",
    stationName: "Gaylord, MI",
    latitude: "44.90722",
    longitude: "-83.28028",
  },
  {
    stationId: "KGGW",
    stationName: "Glasgow, MT",
    latitude: "48.20639",
    longitude: "-105.37500",
  },
  {
    stationId: "KGLD",
    stationName: "Goodland, KS",
    latitude: "39.36694",
    longitude: "-100.29972",
  },
  {
    stationId: "KMVX",
    stationName: "Grand Forks, ND",
    latitude: "47.52778",
    longitude: "-96.67444",
  },
  {
    stationId: "KGJX",
    stationName: "Grand Junction, Co",
    latitude: "39.06222",
    longitude: "-107.78611",
  },
  {
    stationId: "KGRR",
    stationName: "Grand Rapids, MI",
    latitude: "42.89389",
    longitude: "-84.45528",
  },
  {
    stationId: "KTFX",
    stationName: "Great Falls, MT",
    latitude: "47.45972",
    longitude: "-110.61472",
  },
  {
    stationId: "KGRB",
    stationName: "Green Bay, WI",
    latitude: "44.49833",
    longitude: "-87.88861",
  },
  {
    stationId: "KGSP",
    stationName: "Greer, SC",
    latitude: "34.88333",
    longitude: "-81.78000",
  },
  {
    stationId: "KRMX",
    stationName: "Griffiss AFB, NY",
    latitude: "43.46778",
    longitude: "-74.54222",
  },
  {
    stationId: "KUEX",
    stationName: "Hastings, NE",
    latitude: "40.32083",
    longitude: "-97.55806",
  },
  {
    stationId: "KHDX",
    stationName: "Holloman AFB, NM",
    latitude: "33.07639",
    longitude: "-105.87722",
  },
  {
    stationId: "KCBW",
    stationName: "Houlton, ME",
    latitude: "46.03917",
    longitude: "-66.19361",
  },
  {
    stationId: "KHGX",
    stationName: "Houston/Galveston, TX",
    latitude: "29.47194",
    longitude: "-94.92083",
  },
  {
    stationId: "KHTX",
    stationName: "Huntsville, AL",
    latitude: "34.93056",
    longitude: "-85.91667",
  },
  {
    stationId: "KIND",
    stationName: "Indianapolis, IN",
    latitude: "39.70750",
    longitude: "-85.71972",
  },
  {
    stationId: "KJKL",
    stationName: "Jackson, KY",
    latitude: "37.59083",
    longitude: "-82.68694",
  },
  {
    stationId: "KJAN",
    stationName: "Jackson, MS",
    latitude: "32.31778",
    longitude: "-89.92000",
  },
  {
    stationId: "KJAX",
    stationName: "Jacksonville, FL",
    latitude: "30.48472",
    longitude: "-80.29806",
  },
  {
    stationId: "RODN",
    stationName: "Kadena, Okinawa",
    latitude: "26.30194",
    longitude: "127.90972",
  },
  {
    stationId: "PHKN",
    stationName: "Kamuela, HI",
    latitude: "20.12556",
    longitude: "-154.22222",
  },
  {
    stationId: "KEAX",
    stationName: "Kansas City, MO",
    latitude: "38.81028",
    longitude: "-93.73556",
  },
  {
    stationId: "KBYX",
    stationName: "Key West, FL",
    latitude: "24.59750",
    longitude: "-80.29694",
  },
  {
    stationId: "PAKC",
    stationName: "King Salmon, AK",
    latitude: "58.67944",
    longitude: "-155.37056",
  },
  {
    stationId: "KMRX",
    stationName: "Knoxville/Tri-Cities, TN",
    latitude: "36.16861",
    longitude: "-82.59833",
  },
  {
    stationId: "RKJK",
    stationName: "Kunsan AB, Korea",
    latitude: "35.92417",
    longitude: "126.62222",
  },
  {
    stationId: "KARX",
    stationName: "La Crosse, WI",
    latitude: "43.82278",
    longitude: "-90.80889",
  },
  {
    stationId: "LPLA",
    stationName: "Lajes AB, Azores",
    latitude: "38.73028",
    longitude: "-26.67833",
  },
  {
    stationId: "KLCH",
    stationName: "Lake Charles, LA",
    latitude: "30.12528",
    longitude: "-92.78417",
  },
  {
    stationId: "KESX",
    stationName: "Las Vegas, NV",
    latitude: "35.70111",
    longitude: "-113.10861",
  },
  {
    stationId: "KDFX",
    stationName: "Laughlin AFB, TX",
    latitude: "29.27278",
    longitude: "-99.71944",
  },
  {
    stationId: "KILX",
    stationName: "Lincoln, IL",
    latitude: "40.15056",
    longitude: "-88.66306",
  },
  {
    stationId: "KLZK",
    stationName: "Little Rock, AR",
    latitude: "34.83639",
    longitude: "-91.73778",
  },
  {
    stationId: "KVTX",
    stationName: "Los Angeles, CA",
    latitude: "34.41167",
    longitude: "-118.82056",
  },
  {
    stationId: "KLVX",
    stationName: "Louisville, KY",
    latitude: "37.97528",
    longitude: "-84.05611",
  },
  {
    stationId: "KLBB",
    stationName: "Lubbock, TX",
    latitude: "33.65417",
    longitude: "-100.18583",
  },
  {
    stationId: "KMQT",
    stationName: "Marquette, MI",
    latitude: "46.53111",
    longitude: "-86.45167",
  },
  {
    stationId: "KMXX",
    stationName: "Maxwell AFB, AL",
    latitude: "32.53667",
    longitude: "-84.21028",
  },
  {
    stationId: "KMAX",
    stationName: "Medford, OR",
    latitude: "42.08111",
    longitude: "-121.28278",
  },
  {
    stationId: "KMLB",
    stationName: "Melbourne, FL",
    latitude: "28.11333",
    longitude: "-79.34583",
  },
  {
    stationId: "KNQA",
    stationName: "Memphis, TN",
    latitude: "35.34472",
    longitude: "-88.12667",
  },
  {
    stationId: "KAMX",
    stationName: "Miami, FL",
    latitude: "25.61111",
    longitude: "-79.58722",
  },
  {
    stationId: "PAIH",
    stationName: "Middleton Island, AK",
    latitude: "59.46139",
    longitude: "-145.69694",
  },
  {
    stationId: "KMAF",
    stationName: "Midland/Odessa, TX",
    latitude: "31.94333",
    longitude: "-101.81083",
  },
  {
    stationId: "KMKX",
    stationName: "Milwaukee, WI",
    latitude: "42.96778",
    longitude: "-87.44944",
  },
  {
    stationId: "KMPX",
    stationName: "Minneapolis/St. Paul, MN",
    latitude: "44.84889",
    longitude: "-92.43444",
  },
  {
    stationId: "KMBX",
    stationName: "Minot AFB, ND",
    latitude: "48.39250",
    longitude: "-99.13500",
  },
  {
    stationId: "KMSX",
    stationName: "Missoula, MT",
    latitude: "47.04111",
    longitude: "-112.01389",
  },
  {
    stationId: "KMOB",
    stationName: "Mobile, AL",
    latitude: "30.67944",
    longitude: "-87.76028",
  },
  {
    stationId: "PHMO",
    stationName: "Molokai, HI",
    latitude: "21.13278",
    longitude: "-156.82000",
  },
  {
    stationId: "KVAX",
    stationName: "Moody AFB, GA",
    latitude: "30.39028",
    longitude: "-82.99833",
  },
  {
    stationId: "KMHX",
    stationName: "Morehead City, NC",
    latitude: "34.77611",
    longitude: "-75.12389",
  },
  {
    stationId: "KOHX",
    stationName: "Nashville, TN",
    latitude: "36.24722",
    longitude: "-85.43750",
  },
  {
    stationId: "KLIX",
    stationName: "New Orleans, LA",
    latitude: "30.33667",
    longitude: "-88.17444",
  },
  {
    stationId: "KOKX",
    stationName: "New York City, NY",
    latitude: "40.86556",
    longitude: "-71.13611",
  },
  {
    stationId: "PAEC",
    stationName: "Nome, AK",
    latitude: "64.51139",
    longitude: "-164.70500",
  },
  {
    stationId: "KAKQ",
    stationName: "Norfolk/Richmond, VA",
    latitude: "36.98389",
    longitude: "-76.99278",
  },
  {
    stationId: "KLNX",
    stationName: "North Platte, NE",
    latitude: "41.95778",
    longitude: "-99.42361",
  },
  {
    stationId: "KTLX",
    stationName: "Oklahoma City, OK",
    latitude: "35.33306",
    longitude: "-96.72222",
  },
  {
    stationId: "KOAX",
    stationName: "Omaha, NE",
    latitude: "41.32028",
    longitude: "-95.63333",
  },
  {
    stationId: "KPAH",
    stationName: "Paducah, KY",
    latitude: "37.06833",
    longitude: "-87.22806",
  },
  {
    stationId: "KPDT",
    stationName: "Pendleton, OR",
    latitude: "45.69056",
    longitude: "-117.14722",
  },
  {
    stationId: "KDIX",
    stationName: "Philadelphia, PA",
    latitude: "39.94694",
    longitude: "-73.58917",
  },
  {
    stationId: "KIWA",
    stationName: "Phoenix, AZ",
    latitude: "33.28917",
    longitude: "-110.33000",
  },
  {
    stationId: "KPBZ",
    stationName: "Pittsburgh, PA",
    latitude: "40.53167",
    longitude: "-79.78194",
  },
  {
    stationId: "KSFX",
    stationName: "Pocatello/Idaho Falls, ID",
    latitude: "43.10583",
    longitude: "-111.31389",
  },
  {
    stationId: "KGYX",
    stationName: "Portland, ME",
    latitude: "43.89139",
    longitude: "-69.74361",
  },
  {
    stationId: "KRTX",
    stationName: "Portland, OR",
    latitude: "45.71472",
    longitude: "-121.03472",
  },
  {
    stationId: "KPUX",
    stationName: "Pueblo, CO",
    latitude: "38.45944",
    longitude: "-103.81861",
  },
  {
    stationId: "KRAX",
    stationName: "Raleigh/Durham, NC",
    latitude: "35.66556",
    longitude: "-77.51028",
  },
  {
    stationId: "KUDX",
    stationName: "Rapid City, SD",
    latitude: "44.12500",
    longitude: "-101.17028",
  },
  {
    stationId: "KRGX",
    stationName: "Reno, NV",
    latitude: "39.75417",
    longitude: "-118.53778",
  },
  {
    stationId: "KRIW",
    stationName: "Riverton, WY",
    latitude: "43.06611",
    longitude: "-107.52278",
  },
  {
    stationId: "KFCX",
    stationName: "Roanoke, VA",
    latitude: "37.02444",
    longitude: "-79.72611",
  },
  {
    stationId: "KJGX",
    stationName: "Robins AFB, GA",
    latitude: "32.67528",
    longitude: "-82.64889",
  },
  {
    stationId: "KDAX",
    stationName: "Sacramento, CA",
    latitude: "38.50111",
    longitude: "-120.32222",
  },
  {
    stationId: "KLSX",
    stationName: "Saint Louis, MO",
    latitude: "38.69889",
    longitude: "-89.31722",
  },
  {
    stationId: "KMTX",
    stationName: "Salt Lake City, UT",
    latitude: "41.26278",
    longitude: "-111.55222",
  },
  {
    stationId: "KSJT",
    stationName: "San Angelo, TX",
    latitude: "31.37139",
    longitude: "-99.50750",
  },
  {
    stationId: "KNKX",
    stationName: "San Diego, CA",
    latitude: "32.91889",
    longitude: "-116.95806",
  },
  {
    stationId: "KMUX",
    stationName: "San Francisco, CA",
    latitude: "37.15528",
    longitude: "-120.10167",
  },
  {
    stationId: "KHNX",
    stationName: "San Joaquin Valley, CA",
    latitude: "36.31417",
    longitude: "-118.36778",
  },
  {
    stationId: "TJUA",
    stationName: "San Juan, PR",
    latitude: "18.11556",
    longitude: "-65.92194",
  },
  {
    stationId: "KSOX",
    stationName: "Santa Ana Mountains, CA",
    latitude: "33.81778",
    longitude: "-116.36417",
  },
  {
    stationId: "KATX",
    stationName: "Seattle/Tacoma, WA",
    latitude: "48.19444",
    longitude: "-121.50417",
  },
  {
    stationId: "KSHV",
    stationName: "Shreveport, LA",
    latitude: "32.45083",
    longitude: "-92.15861",
  },
  {
    stationId: "KFSD",
    stationName: "Sioux Falls, SD",
    latitude: "43.58778",
    longitude: "-95.27056",
  },
  {
    stationId: "PACG",
    stationName: "Sitka, AK",
    latitude: "56.85278",
    longitude: "-134.47083",
  },
  {
    stationId: "PHKI",
    stationName: "South Kauai, HI",
    latitude: "21.89417",
    longitude: "-158.44778",
  },
  {
    stationId: "PHWA",
    stationName: "South Shore, HI",
    latitude: "19.09500",
    longitude: "-154.43111",
  },
  {
    stationId: "KOTX",
    stationName: "Spokane, WA",
    latitude: "47.68028",
    longitude: "-116.37333",
  },
  {
    stationId: "KSGF",
    stationName: "Springfield, MO",
    latitude: "37.23528",
    longitude: "-92.59944",
  },
  {
    stationId: "KCCX",
    stationName: "State College, PA",
    latitude: "40.92306",
    longitude: "-77.99639",
  },
  {
    stationId: "KLWX",
    stationName: "Sterling, VA",
    latitude: "38.97528",
    longitude: "-76.52222",
  },
  {
    stationId: "KTLH",
    stationName: "Tallahassee, FL",
    latitude: "30.39750",
    longitude: "-83.67111",
  },
  {
    stationId: "KTBW",
    stationName: "Tampa, FL",
    latitude: "27.70556",
    longitude: "-81.59833",
  },
  {
    stationId: "KTWX",
    stationName: "Topeka, KS",
    latitude: "38.99694",
    longitude: "-95.76750",
  },
  {
    stationId: "KEMX",
    stationName: "Tucson, AZ",
    latitude: "31.89361",
    longitude: "-109.36972",
  },
  {
    stationId: "KINX",
    stationName: "Tulsa, OK",
    latitude: "36.17500",
    longitude: "-94.43528",
  },
  {
    stationId: "KVNX",
    stationName: "Vance AFB, OK",
    latitude: "36.74083",
    longitude: "-97.87222",
  },
  {
    stationId: "KVBX",
    stationName: "Vandenberg AFB, CA",
    latitude: "34.83806",
    longitude: "-119.60306",
  },
  {
    stationId: "KICT",
    stationName: "Wichita, KS",
    latitude: "37.65472",
    longitude: "-96.55722",
  },
  {
    stationId: "KLTX",
    stationName: "Wilmington, NC",
    latitude: "33.98944",
    longitude: "-77.57111",
  },
  {
    stationId: "KYUX",
    stationName: "Yuma, AZ",
    latitude: "32.49528",
    longitude: "-113.34333",
  },
];

// Requires helper.js for calculating distance
// Given a lat lon, give the nearest numStaions from the list
// If I were more motivated I'd do something about getting a bearing to the weather station so you could
// prioritize looking at ones to your west (for my weather patterns at least...)
function findNearestStations(lat, lon, numStations) {
  const distances = stations.map((station) => {
    const distance = calculateLatLonDistance(
      lat,
      lon,
      parseFloat(station.latitude),
      parseFloat(station.longitude)
    );

    const stationDistanceMiles = distance.miles;
    const stationHeading = distance.heading;
    return {
      ...station,
      distance_miles: stationDistanceMiles,
      station_heading: stationHeading,
    };
  });

  distances.sort((a, b) => a.distance_miles - b.distance_miles);

  return distances.slice(0, numStations).map((station) => ({
    stationId: station.stationId,
    stationName: station.stationName,
    latitude: station.latitude,
    longitude: station.longitude,
    distance: station.distance_miles.toFixed(2), // Optional: to round the distance
    heading: station.station_heading,
  }));
}
